
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Update 2: First Dive into Compression &#8212; Data Science Capstone 2022</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="sprague" href="../sprague/description.html" />
    <link rel="prev" title="Update 1: Preliminaries" href="Update_1.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-186739861-1', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Data Science Capstone 2022</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../welcome.html">
   Welcome to Data Science Capstone
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Class Logistics
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../class/syllabus.html">
   Course Syllabus
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../class/syllabus_readings.html">
     Readings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../class/syllabus_participation.html">
     Meetings and participation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../class/syllabus_deliverables.html">
     Deliverables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../class/syllabus_policies.html">
     Course policies
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../class/contacts.html">
   Project sponsors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../class/software-tools.html">
   Software and Tools
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../class/progress-update-guidelines.html">
   Progress update guidelines
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../class/progress-update-initial-post-guidelines.html">
     Initial post (due Friday 2/4)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../class/progress-update-second-post-guidelines.html">
     Second post (due Friday 3/4)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../class/progress-update-third-post-guidelines.html">
     Third post (due Friday 4/29)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../class/progress-update-posting-instructions.html">
     How to post project updates
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../class/presentation-guidelines-winter.html">
   Interim presentation guidelines
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../class/presentation-guidelines-midquarter-spring.html">
   Mid-quarter presentations
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Projects
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../allthenticate/description.html">
   Allthenticate
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../allthenticate/update1.html">
     Project Update 1 (2/4/2022)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../allthenticate/update2.html">
     Project Update 2 (3/4/2022)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../allthenticate/update3.html">
     Project Update 3 (5/2/2022)
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../appfolio/description.html">
   AppFolio
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../appfolio/update1.html">
     Starting the Project
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../appfolio/update2.html">
     Creating a Simple Model
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../calcofi/description.html">
   CalCOFI Project
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../calcofi/calcofi-update1.html">
     CalCOFI Initial Progress and Goal Definition
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../calcofi/calcofi-update2.html">
     Progress Update and Reflection
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../calcofi/calcofi-update3.html">
     The Final Stretch
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../carpedata/description.html">
   carpedata
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../carpedata/update1.html">
     Update 1 - (2/4/22)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../carpedata/update2.html">
     Update 2 - (3/4/22)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../carpedata/update3.html">
     Update 3 - (4/29/22)
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../ccber/description.html">
   ccber
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../ccber/update1.html">
     Update 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ccber/update2.html">
     Update 2
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../cits/description.html">
   cits
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../cits/update1.html">
     Update 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../cits/update2.html">
     Update 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../cits/update3.html">
     Update 3
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../envent/description.html">
   ENVENT Lab
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../envent/projectupdate1.html">
     Survey Pre-Processing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../envent/projectupdate2.html">
     Update 2: Moving Towards Megapoll Assembly
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../eri/description.html">
   eri
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../eri/update1.html">
     Update 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../eri/update2.html">
     Update 2
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../evidation_eric/description.html">
   evidation (Eric’s team)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../evidation_eric/update1.html">
     Evidation Health Project Update 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../evidation_eric/update2.html">
     Evidation Health Project Update 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../evidation_eric/update3.html">
     Evidation Health Project Update 3
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../evidation_julio/description.html">
   Evidation (Julio’s team)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../evidation_julio/Update2_4_22.html">
     Evidation Update (Julio’s team)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../evidation_julio/Update2.html">
     Evidation Update #2 (Julio’s Team)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../evidation_julio/update3.html">
     Evidation Julio Update 3
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../hg_insights/description.html">
   hg_insights
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../hg_insights/HG_Update1_Feb7.html">
     Update 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../hg_insights/update%202-2.html">
     Update 2
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../nri/description.html">
   NRI
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../nri/update1.html">
     NRI Group Update 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../nri/update2.html">
     Team Information
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../nri/update3.html">
     NRI Group Update 3
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="description.html">
   PwC
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="Update_1.html">
     Update 1: Preliminaries
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Update 2: First Dive into Compression
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../sprague/description.html">
   sprague
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
  <label for="toctree-checkbox-16">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../sprague/Sprague_group_update_01.html">
     Update 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../sprague/Sprague_group_update_02.html">
     Update 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../sprague/Sprague_group_update_03.html">
     Update 3
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/projects/pwc/Update_2.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/ucsb-ds-capstone-2022/ucsb-ds-capstone-2022.github.io"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/ucsb-ds-capstone-2022/ucsb-ds-capstone-2022.github.io/issues/new?title=Issue%20on%20page%20%2Fprojects/pwc/Update_2.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/ucsb-ds-capstone-2022/ucsb-ds-capstone-2022.github.io/edit/main/ucsb_ds_capstone_projects_2022/projects/pwc/Update_2.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#benchmark">
   Benchmark
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#key-metrics">
     Key Metrics
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#some-tuning">
     Some Tuning
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#compression">
   Compression
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#quantization">
     Quantization
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#symmetric-and-asymmetric">
       Symmetric and Asymmetric
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#percentiles">
       Percentiles
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#week-10-goal">
   Week 10 goal
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#looking-ahead">
   Looking Ahead
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Update 2: First Dive into Compression</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#benchmark">
   Benchmark
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#key-metrics">
     Key Metrics
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#some-tuning">
     Some Tuning
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#compression">
   Compression
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#quantization">
     Quantization
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#symmetric-and-asymmetric">
       Symmetric and Asymmetric
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#percentiles">
       Percentiles
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#week-10-goal">
   Week 10 goal
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#looking-ahead">
   Looking Ahead
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="update-2-first-dive-into-compression">
<h1>Update 2: First Dive into Compression<a class="headerlink" href="#update-2-first-dive-into-compression" title="Permalink to this headline">¶</a></h1>
<div class="section" id="benchmark">
<h2>Benchmark<a class="headerlink" href="#benchmark" title="Permalink to this headline">¶</a></h2>
<p>As briefly covered in the first update, A simple model is more desirable for the initial trials with model compression methods. After some testing with different word embedding models we were able to achieve desirable results. The model is currently using Stanford’s GloVe (Global Vectors for Word Representation)<a class="footnote-reference brackets" href="#id4" id="id1">1</a> for the word embeddings. For the emotion classification we are using a standard Sequential Model<a class="footnote-reference brackets" href="#id5" id="id2">2</a> which is constructed with Adam, Relu/Sigmoid activation, and a dropout layer.</p>
<div class="section" id="key-metrics">
<h3>Key Metrics<a class="headerlink" href="#key-metrics" title="Permalink to this headline">¶</a></h3>
<p>Because of the imbalance in classes, we choose the <span class="math notranslate nohighlight">\(\mathrm{F} 1\)</span>  score as our statistic among other metrics to measure the performance which is the usual convention for this type of task.</p>
<div class="math notranslate nohighlight">
\[\text{$F1$ Score} =2 \cdot \frac{\text { Precision } \cdot \text { Recall }}{\text { Precision }+\text { Recall }}\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned} \text { Precision } &amp;=\frac{T P}{T P+F P} \\[2.5mm] \text { Recall } &amp;=\frac{T P}{T P+F N} \end{aligned}\end{split}\]</div>
<p>Precision measures the percentage of true positives from all positive cases detected by the model, while Recall(sensitivity) measures the percentage of positive cases the model detects successfully. Notice that <span class="math notranslate nohighlight">\(\mathrm{F} 1\)</span> score reflects both metrics: the <span class="math notranslate nohighlight">\(\mathrm{F} 1\)</span> score is high only when both Precision and Recall are high.</p>
</div>
<div class="section" id="some-tuning">
<h3>Some Tuning<a class="headerlink" href="#some-tuning" title="Permalink to this headline">¶</a></h3>
<p>We initially had some RAM issues running GloVe for vector representation of words of higher than dimension of 100. Thus testing was done with 50 and 100 and we achieved modest <span class="math notranslate nohighlight">\(\mathrm{F} 1\)</span> scores in the high 40’s range. Comparing to the GoEmotion<a class="footnote-reference brackets" href="#id6" id="id3">3</a> paper that achieved a score of 62 for the Ekman style grouping left much to be sought after. Note that our model at this stage was 936KB relative to a standard BERT model which is substantially larger and more robust.</p>
<hr class="docutils" />
<p><strong>Note</strong>: We are still fine-tuning the model as we move onto other tasks.</p>
<hr class="docutils" />
<p>Layer selection was chosen manually by running 30 epochs with 5 trials with an average taken across the trials.</p>
<p><img alt="" src="../../_images/wordvector.png" /></p>
<p>The figure depicts the “best tradeoff” region and shows additional layers do not provide a more optimal model when we want to maximize <span class="math notranslate nohighlight">\(\mathrm{F} 1\)</span>.</p>
</div>
</div>
<div class="section" id="compression">
<h2>Compression<a class="headerlink" href="#compression" title="Permalink to this headline">¶</a></h2>
<p>Moving into the main objective of the project. Our first method is a form of model compression called Quantization.</p>
<div class="section" id="quantization">
<h3>Quantization<a class="headerlink" href="#quantization" title="Permalink to this headline">¶</a></h3>
<p>Quantization from a mathematical standpoint is the process of taking a set of larger floating point numbers and mapping them to a set of smaller ones. A simple example is converting FP32 (floating point 32 bits) to a smaller precision like INT8 (Integer 8 bit) which is commonly known as 8-bit quantization.</p>
<p>There are two forms of quantization: post-training quantization and quantization aware training. The tradeoff being post-training is easier to implement while the latter in practice provides better model accuracy.</p>
<p><strong>Note</strong>: We are currently looking at implementing both forms.</p>
<div class="section" id="symmetric-and-asymmetric">
<h4>Symmetric and Asymmetric<a class="headerlink" href="#symmetric-and-asymmetric" title="Permalink to this headline">¶</a></h4>
<p>The two most common forms of <em>calibration</em> are Symmetric and Asymmetric.</p>
<ol class="simple">
<li><p><strong>Asymmetric</strong> quantization, we map the min/max in the float range to the min/max of the integer range. This is done by using a <strong>zero-point</strong> in addition to the scale factor.</p></li>
<li><p><strong>Symmetric</strong> quantization, instead of mapping the exact min/max of the float range to the quantized range, we choose the maximum absolute value between min/max. In addition, we don’t use a zero-point. So, the floating-point range we’re effectively quantizing is symmetric with respect to zero, and so is the quantized range.</p></li>
</ol>
<hr class="docutils" />
<p>Symmetric quantization is incredibly quick to calculate, because we do not need to compute the zero point of reference, and we only consider the absolute maximum value. Asymmetric quantization is particularly useful for quantization when the distribution of weights/ activation outputs are are heavily asymmetric, but it comes with a higher cost. From our readings, <strong>an efficient method is to use symmetric quantization for weights, asymmetric quantization for activation outputs with a subset of models weights.</strong></p>
<p><strong>Example</strong>: A general quantization function:</p>
<div class="math notranslate nohighlight">
\[Q(w)=\operatorname{Int}\left(\left(\frac{w}{\beta-\alpha}\right) \cdot(2^{n}-1)\right)+z\]</div>
<p>where <span class="math notranslate nohighlight">\(\alpha,\beta\)</span>. are clipping ranges to be chosen, <span class="math notranslate nohighlight">\(\mathrm{z}\)</span> is a zero-point. Choosing
<span class="math notranslate nohighlight">\(\alpha, \beta\)</span> is what we referred to earlier as <em>calibration</em>.</p>
</div>
<hr class="docutils" />
<div class="section" id="percentiles">
<h4>Percentiles<a class="headerlink" href="#percentiles" title="Permalink to this headline">¶</a></h4>
<p>The idea with percentiles Is to set the range to a percentile of the distribution of weights seen during calibration. In practice, many pre-built functions that perform quantization only take a look at the maximum and the minimum weights. We hypothesize that with the imbalance in classes there will be outliers in the distribution of weights across the layers.  Thus, the manual function will provide the better tradeoff between robustness and compression.</p>
<p>–
<strong>Example</strong>:
For symmetric quantizations: for 99th percentiles, we can can take
<span class="math notranslate nohighlight">\(\beta=|w|_{0.99}, \alpha=-\beta\)</span>. For asymmetric quantizations: we can can take
<span class="math notranslate nohighlight">\(\beta=w_{0.995}, \alpha=w_{0.05}\)</span>
and implement the same quantization functions. If a weight exceeds a particular upper bound, we replace that weight with the upper bound/ lower bound percentile and transform it accordingly.</p>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="week-10-goal">
<h2>Week 10 goal<a class="headerlink" href="#week-10-goal" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p>Create a Quantization function that considers the distribution of weights across layers and implements quantization accordingly.</p></li>
<li><p>Analyze the tradeoff between performance and compression of the custom method.</p></li>
</ol>
</div>
<div class="section" id="looking-ahead">
<h2>Looking Ahead<a class="headerlink" href="#looking-ahead" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p>At this moment in time we were able to resolve the RAM issue and get the 300 dimension word vectors GloVe model functioning. We are working on optimizing the trial model before running some final tests. We hypothesize that this model will produce the best results.</p></li>
<li><p>We hope to create our own word embeddings which would give us more access to applying compression methods elsewhere besides the layers of the model.</p></li>
<li><p>After our trials it is likely we might proceed with a more challenging task and a more robust framework to limit test our compression methods. A possible consideration would be working with audio/visual data.</p></li>
</ol>
<hr class="footnotes docutils" />
<dl class="footnote brackets">
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p><a class="reference external" href="https://nlp.stanford.edu/projects/glove/">https://nlp.stanford.edu/projects/glove/</a></p>
</dd>
<dt class="label" id="id5"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p><a class="reference external" href="https://keras.io/guides/sequential_model/">https://keras.io/guides/sequential_model/</a></p>
</dd>
<dt class="label" id="id6"><span class="brackets"><a class="fn-backref" href="#id3">3</a></span></dt>
<dd><p><a class="reference external" href="https://arxiv.org/pdf/2005.00547.pdf">https://arxiv.org/pdf/2005.00547.pdf</a></p>
</dd>
</dl>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./projects/pwc"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="Update_1.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Update 1: Preliminaries</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../sprague/description.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">sprague</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By UCSB DS Capstone Class<br/>
    
        &copy; Copyright 2022.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>